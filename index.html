<!DOCTYPE html>
<html>
    <head>
        <title>Rock, Paper, Scissors</title>
    </head>
    <body>
        <button id="rock">Rock</button>
        <button id="paper">Paper</button>
        <button id="scissors">Scissors</button>

        <div id="results"></div>

        <script>
            let playerScore = 0;
            let computerScore = 0;
            let roundsPlayed = 0;

            const rock = document.querySelector('#rock');
            const paper = document.querySelector('#paper');
            const scissors = document.querySelector('#scissors');

            rock.addEventListener('click', () => {playRound('rock')});
            paper.addEventListener('click', () => {playRound('paper')});
            scissors.addEventListener('click', () => {playRound('scissors')});

            const decision = document.createElement('p');
            decision.textContent = `Make your choice to start the game.`;

            const score = document.createElement('p');
            score.textContent = `Player ${playerScore} - ${computerScore} Computer`;

            results.appendChild(decision);
            results.appendChild(score);

            function playRound(playerSelection) {
                const computerSelection = computerPlay();

                if (playerSelection.toLowerCase() === 'rock') {
                    switch (computerSelection.toLowerCase()) {
                        case 'rock':
                            decision.textContent = `It's a draw! Both players chose rock.`;
                            break;
                        case 'paper':
                            decision.textContent = `Computer wins! Paper beats rock.`;
                            computerScore++;
                            score.textContent = `Player ${playerScore} - ${computerScore} Computer`;
                            break;
                        case 'scissors':
                            decision.textContent = `Player wins! Rock beats scissors.`;
                            playerScore++;
                            score.textContent = `Player ${playerScore} - ${computerScore} Computer`;
                            break;
                    }
                } else if (playerSelection.toLowerCase() === 'paper') {
                    switch (computerSelection.toLowerCase()) {
                        case 'rock':
                            decision.textContent = `Player wins! Paper beats rock.`;
                            playerScore++;
                            score.textContent = `Player ${playerScore} - ${computerScore} Computer`;;
                            break;
                        case 'paper':
                            decision.textContent = `It's a draw! Both players chose paper.`;
                            break;
                        case 'scissors':
                            decision.textContent = `Computer wins! Scissors beats paper.`;
                            computerScore++;
                            score.textContent = `Player ${playerScore} - ${computerScore} Computer`;
                            break;
                    }
                } else if (playerSelection.toLowerCase() === 'scissors') {
                    switch (computerSelection.toLowerCase()) {
                        case 'rock':
                            decision.textContent = `Computer wins! Rock beats scissors.`;
                            computerScore++;
                            score.textContent = `Player ${playerScore} - ${computerScore} Computer`;
                            break;
                        case 'paper':
                            decision.textContent = `Player wins! Scissors beats paper.`;
                            playerScore++;
                            score.textContent = `Player ${playerScore} - ${computerScore} Computer`;
                            break;
                        case 'scissors':
                            decision.textContent = `It's a draw! Both players chose scissors.`;
                            break;
                    }
                } else {
                    console.log('Player selection not recognized.');
                }

                roundsPlayed++;

                if (roundsPlayed == 5) {
                    if (playerScore > computerScore) {
                        decision.textContent = `Game over. Player wins! Make your move to start again.`;
                    } else if (playerScore < computerScore) {
                        decision.textContent = `Game over. Computer wins! Make your move to start again.`;
                    } else {
                        decision.textContent = `Game over. It's a draw! Make your move to start again.`;
                    }

                    score.textContent = `Player ${playerScore} - ${computerScore} Computer`; 

                    roundsPlayed = 0;
                    playerScore = 0;
                    computerScore = 0;
                }
            }

            function computerPlay() {
                const selection = Math.floor(Math.random() * 3);

                switch (selection) {
                    case 0:
                        return 'rock';
                        break;
                    case 1:
                        return 'paper';
                        break;
                    case 2:
                        return 'scissors';
                        break;
                }
            }
        </script>
    </body>
</html>